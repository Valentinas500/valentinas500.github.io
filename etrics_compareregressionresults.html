<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Reporting Regression Results</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Valentinas Rudys</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="teaching.html">Teaching</a>
</li>
<li>
  <a href="research.html">Research</a>
</li>
<li>
  <a href="etrics.html">Econometrics</a>
</li>
<li>
  <a href="macro.html">Macroeconomics</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="mailto:vrudys@fordham.edu">
    <span class="fa fa-envelope-o"></span>
     
    Contact me
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Reporting Regression Results</h1>

</div>


<p>By now, you should be already familiar with loading data, obtaining summary statistics as well as running multiple regressions in R. As a researcher, you want your message to be lound and clear for those are interested in your work and take the time to read it. Therefore, you should always aim to provide the results in the most convenient format.</p>
<p>In this section, we will introduce a package called <strong>stargazer</strong>. It creates an output that incorporates a multiple regressions into one well-formatted table.</p>
<p>Say you are intereted in studying a salary-pension tradeoff. In other words, you are asking: do people take lower pay if they are promised higher pension. Data set <strong>meap93</strong> in package <strong>wooldridge</strong> looks at salary-pension tradeoff for teachers in 1993.</p>
<p>To answer the question, however, we first need to do some algebraic manipulation. Define total compensation as salary and benefits.</p>
<p><span class="math display">\[
totcomp = salary + b
\]</span></p>
<p>Rearrangin the equation yields the following.</p>
<p><span class="math display">\[
totcomp = salary + benefits \quad \rightarrow \quad totcomp = salary  (1 + benefits/salary)
\]</span></p>
<p>Taking the logarithms of both sides yields the following.</p>
<p><span class="math display">\[
\log(totcomp) = \log[salary(1 + benefits/salary)] = \log(salary) + \log(1 + benefits/salary)
\]</span></p>
<p>Knowing that <span class="math inline">\(log(1+x)\approx x\)</span> for small changes in <span class="math inline">\(x\)</span> we get the following.</p>
<p><span class="math display">\[
\log(totcomp) = \log(salary) + benefits/salary
\]</span></p>
<p>Since we are interested in trade-off between salary and pension benefits, we consider the following simple (two-variable) regression model:</p>
<p><span class="math display">\[
\log(salary) = \beta_0 + \beta_1 (benefits/salary) + u
\]</span></p>
<p>We also consider two other models that control for the school characteristics.</p>
<p><span class="math display">\[
\log(salary) = \beta_0 + \beta_1 (benefits/salary) + beta_2 \log(enroll) +\beta_3 log(staff) + u
\]</span></p>
<p><span class="math display">\[
\log(salary) = \beta_0 + \beta_1 (benefits/salary) + beta_2 \log(enroll) +\beta_3 log(staff) +\beta_4 (droprate) +\beta_5 (gradrate)+ u
\]</span></p>
<p>See the R code below to execute the above example.</p>
<pre class="r"><code>data(meap93,package=&#39;wooldridge&#39;)
#Create a new variable b_s=benefits/salary
meap93$b_s &lt;- meap93$benefits / meap93$salary

model1= lm(log(salary) ~ b_s , data=meap93)
model2= lm(log(salary) ~ b_s+log(enroll)+log(staff), data=meap93)
model3= lm(log(salary) ~ b_s+log(enroll)+log(staff)+droprate+gradrate, data=meap93)</code></pre>
<p>To plot the three models side by side for an easy comparison of the results, use the R code below.</p>
<pre class="r"><code>library(stargazer)
stargazer(list(model1,model2,model3),type=&quot;text&quot;,keep.stat=c(&quot;n&quot;,&quot;rsq&quot;))</code></pre>
<pre><code>## 
## ==========================================
##                   Dependent variable:     
##              -----------------------------
##                       log(salary)         
##                 (1)       (2)       (3)   
## ------------------------------------------
## b_s          -0.825*** -0.605*** -0.589***
##               (0.200)   (0.165)   (0.165) 
##                                           
## log(enroll)            0.087***  0.088*** 
##                         (0.007)   (0.007) 
##                                           
## log(staff)             -0.222*** -0.218***
##                         (0.050)   (0.050) 
##                                           
## droprate                          -0.0003 
##                                   (0.002) 
##                                           
## gradrate                           0.001  
##                                   (0.001) 
##                                           
## Constant     10.523*** 10.844*** 10.738***
##               (0.042)   (0.252)   (0.258) 
##                                           
## ------------------------------------------
## Observations    408       408       408   
## R2             0.040     0.353     0.361  
## ==========================================
## Note:          *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
<p>We find that the estimated coefficient for (b/s) is negative and statistically significant in all three models. Let’s say you want to show how the slopes vary visually. First, using predict command, we will fit the regression line.</p>
<pre class="r"><code>m1predict=predict(model1, interval=&quot;prediction&quot;, newdata=data.frame(b_s=seq(from=0, to=0.5, by=0.01)))
m2predict=predict(model2, interval=&quot;prediction&quot;, newdata=data.frame(b_s=seq(from=0, to=0.5, by=0.01),enroll=mean(meap93$enroll),staff=mean(meap93$staff)))
m3predict=predict(model3, interval=&quot;prediction&quot;, newdata=data.frame(b_s=seq(from=0, to=0.5, by=0.01),enroll=mean(meap93$enroll),staff=mean(meap93$staff),droprate=mean(meap93$droprate),gradrate=mean(meap93$gradrate)))
plot(salary~b_s,data=meap93)
#First model
a1=1/length(fitted(model1)) * sum(exp(model1$residuals))
lines(exp(m1predict[,1])*a1~seq(from=0, to=0.5, by=0.01), col=1)
lines(exp(m1predict[,2])*a1~seq(from=0, to=0.5, by=0.01), col=1,lty=2)
lines(exp(m1predict[,3])*a1~seq(from=0, to=0.5, by=0.01), col=1,lty=2)
#Second model:
a2=1/length(fitted(model2)) * sum(exp(model2$residuals))
lines(exp(m2predict[,1])*a2~seq(from=0, to=0.5, by=0.01), col=2)
lines(exp(m2predict[,2])*a2~seq(from=0, to=0.5, by=0.01), col=2,lty=2)
lines(exp(m2predict[,3])*a2~seq(from=0, to=0.5, by=0.01), col=2,lty=2)
#Third model:
a3=1/length(fitted(model3)) * sum(exp(model3$residuals))
lines(exp(m3predict[,1])*a3~seq(from=0, to=0.5, by=0.01), col=3)
lines(exp(m3predict[,2])*a3~seq(from=0, to=0.5, by=0.01), col=3,lty=2)
lines(exp(m3predict[,3])*a3~seq(from=0, to=0.5, by=0.01), col=3,lty=2)</code></pre>
<p><img src="etrics_compareregressionresults_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>After we control for school specific differences, we find that the slope is less negative (the trade-off is smaller).</p>
<p>Finally, we can compare the histograms of the residuals of all three models.</p>
<pre class="r"><code>par(mfrow=c(1,3))
hist(model1$residuals,freq=FALSE,ylim=c(0,4))
lines(density(model1$residuals),col=4)
hist(model2$residuals,freq=FALSE,ylim=c(0,4))
lines(density(model2$residuals),col=4)
hist(model3$residuals,freq=FALSE,ylim=c(0,4))
lines(density(model3$residuals),col=4)</code></pre>
<p><img src="etrics_compareregressionresults_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<hr />




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
